# 要件定義書
## スタバ研修アプリ

Version 1.0
2026-02-22

---

## 目次

1. プロジェクト概要
2. レシピ管理モジュール (M1)
3. 実践練習モジュール (M2)
4. 振り返り・学習記録モジュール (M3)
5. データモデル
6. 画面一覧
7. 非機能要件
8. 開発ロードマップ

---

## 1. プロジェクト概要

### 1.1 背景と目的

スターバックスのドリンクレシピは手順が複雑で、サイズ・カスタムによる変数も多い。現状、体系的なレシピ書や研修用アプリが存在しないため、新人バイトスタッフが自主学習できる環境が整っていない。本アプリにより、レシピの参照・実践練習・振り返りを一元化し、スキル習得を加速させる。

### 1.2 対象ユーザー

| 項目 | 内容 |
|------|------|
| 主なユーザー | スターバックスでアルバイト勤務している学生 |
| 利用シーン | 自宅学習・出勤前の予習・シフト後の振り返り |
| 技術リテラシー | スマートフォン操作に慣れている学生を想定 |

### 1.3 システム全体像

本アプリは以下の3つの主要モジュールで構成される。

| モジュール | 概要 | 主要機能 |
|-----------|------|---------|
| M1: レシピ管理 | ドリンクレシピをカード形式で閲覧・登録 | レシピ一覧、詳細表示、カスタムバリエーション、ユーザーレシピ登録 |
| M2: 実践練習 | ランダムオーダーによる練習モード | オーダー生成、手順並び替え、採点・フィードバック |
| M3: 振り返り記録 | 学習の記録と弱点の把握 | 日次振り返り、間違い問題レビュー、学習ログ |

---

## 2. レシピ管理モジュール (M1)

### 2.1 レシピカテゴリ定義

レシピは以下のカテゴリ・サブカテゴリで分類する。

| カテゴリ | サブカテゴリ | 対象ドリンク数 | 備考 |
|---------|------------|-------------|------|
| ホット | エスプレッソ系 | 9 | システム組込み |
| ホット | ティー系 | 8 | システム組込み |
| ホット | チョコ・クリーム系 | 3 | システム組込み |
| アイス | エスプレッソ系 | 8 | システム組込み |
| アイス | ティー系 | 3 | システム組込み |
| アイス | チョコ・クリーム系 | 3 | システム組込み |
| フラペチーノ | コーヒー系 | 4 | システム組込み |
| フラペチーノ | クリーム系 | 3 | システム組込み |
| フラペチーノ | フルーツ系 | 1 | システム組込み |
| 季節・特別 | — | 4 | システム組込み |
| 期間限定（ユーザー登録） | — | ユーザーが任意追加 | ユーザー作成レシピ |

### 2.2 レシピデータ構造

各レシピに対して以下の情報を管理する。

| 項目 | データ型 | 必須 | 説明 |
|------|---------|------|------|
| ドリンク名（日本語） | テキスト | 必須 | 正式名称 |
| 略称コード | テキスト | 任意 | レジ表記（例: MIS, CM, GTL）。ユーザー登録時は省略可 |
| カテゴリ | 選択肢 | 必須 | ホット / アイス / フラペチーノ / 季節限定 / 期間限定 |
| サブカテゴリ | 選択肢 | 必須 | エスプレッソ系 / ティー系 / チョコ系 等 |
| スリーブ要否 | 真偽値 | 必須 | 熱いカップへのスリーブ装着が必要か |
| 特殊機材 | テキスト | 任意 | バイタミックス使用等の特記事項 |
| 手順リスト | 配列 | 必須 | 順序付きステップ（後述） |
| レシピ種別 | フラグ | 必須 | `builtin`（システム組込み）/ `user`（ユーザー作成） |
| 登録日時 | 日時 | 自動 | ユーザー作成レシピのみ。作成・更新日時を記録 |
| メモ | テキスト | 任意 | ユーザーが自由に書き込めるメモ欄 |

#### 2.2.1 手順（ステップ）データ構造

| 項目 | データ型 | 説明 |
|------|---------|------|
| ステップ番号 | 数値 | 1始まりの連番 |
| 必須/任意フラグ | 真偽値 | ()で囲まれた任意ステップはfalse |
| ステップ説明 | テキスト | 手順の説明文 |
| 材料リスト | 配列 | 使用する材料・シロップ等 |
| サイズ別分量 | オブジェクト | S / T / G / V ごとの数量 |

#### 2.2.2 サイズ別分量の表記ルール

スターバックスのサイズ（S=ショート / T=トール / G=グランデ / V=ベンティ）ごとに分量が異なる。分量は数値の羅列（例: `1 1 2 3` = S:1 T:1 G:2 V:3）で管理する。

### 2.3 レシピ一覧（カード形式）

#### 2.3.1 カード表示項目

| 表示項目 | 説明 |
|---------|------|
| ドリンク名 | 日本語名を大きく表示 |
| 略称コード | レジコードを右上に小さく表示 |
| カテゴリバッジ | ホット/アイス/フラペチーノをカラーバッジで区別 |
| サブカテゴリ | エスプレッソ系 / ティー系 等 |
| スリーブアイコン | スリーブ必要な場合はアイコン表示 |

#### 2.3.2 フィルタリング・検索機能

- カテゴリタブ切替（ホット / アイス / フラペチーノ / 全て）
- サブカテゴリフィルター（エスプレッソ系 / ティー系 / チョコ系 等）
- テキスト検索（ドリンク名・略称コードで検索）

### 2.4 レシピ詳細画面

カードをタップすると詳細画面に遷移し、手順をステップ形式で表示する。

#### 2.4.1 基本レシピ表示

- ステップを番号付きカードで縦並び表示
- 任意ステップは「(任意)」バッジ付きで薄いデザインで表示
- 材料のサイズ別分量をS/T/G/Vの4列テーブルで表示
- 特記事項（スリーブ、スチーム秒数等）は注意アイコン付きで強調

#### 2.4.2 カスタムありバージョン切替

詳細画面上部のトグルで「基本レシピ」と「カスタムあり」を切替表示する。カスタムありの場合、以下の選択肢を追加表示し、選択に応じて手順の変化や追加ステップをハイライト表示する。

| カスタム種別 | 選択肢 |
|------------|--------|
| ミルク変更 | 通常 / 豆乳 / オーツミルク / アーモンドミルク / スキムミルク / ブレベ |
| シロップ追加 | なし / バニラ / キャラメル / ヘーゼルナッツ / クラシック / ラベンダー |
| ショット変更 | 通常 / エクストラ / ハーフ / デカフェ / リストレット |
| ホイップ | あり（デフォルト） / なし / エクストラ |
| フォーム量 | 通常 / ライトフォーム / エクストラフォーム |
| ドライ/ウェット | 通常 / ドライ（フォーム多め） / ウェット（ミルク多め）※カプチーノのみ |
| 温度 | 通常 / エクストラホット / 半熱 |
| 氷の量 | 通常 / 少なめ / 多め / なし |
| ソース追加 | なし / キャラメルソース / チョコソース |

カスタムによって変化するのは以下の点：
- ミルク変更: スチーム手順の材料が変更される（非乳性ミルクはXHボタン必須等）
- シロップ追加: シロップステップが必須化される
- ショット変更: 抽出数・種類が変化する

### 2.5 ドリンク一覧（全46品）

#### ホット エスプレッソ系

| ドリンク名 | コード | スリーブ |
|-----------|--------|---------|
| カフェミスト | MIS | — |
| スターバックスラテ | L | — |
| カフェアメリカーノ | A | — |
| カプチーノ | C | — |
| キャラメルマキアート | CM | — |
| カフェモカ | M | — |
| ホワイトモカ | WM | — |
| トリプルエスプレッソラテ | 3EL | — |
| スターバックスブロンドラテ（オーツミルク） | L | — |

#### ホット ティー系

| ドリンク名 | コード | スリーブ |
|-----------|--------|---------|
| チャイティーラテ | CH | 要 |
| 抹茶ティーラテ | GTL | 要 |
| ホットティー | T | 要 |
| イングリッシュブレックファストティーラテ | EB | 要 |
| アールグレイティーラテ | EG | 要 |
| カモミールティーラテ | CT | 要 |
| ほうじ茶ティーラテ | HL | 要 |
| ゼンクラウドウーロンティーラテ | ZO | 要 |

#### ホット チョコ・クリーム系

| ドリンク名 | コード | スリーブ |
|-----------|--------|---------|
| ホットココア | HC | — |
| ホワイトホットチョコレート | WHC | — |
| キャラメルクリーム | CRC | — |

#### アイス エスプレッソ系

| ドリンク名 | コード |
|-----------|--------|
| アイスカフェアメリカーノ | A |
| アイスカフェラテ（スターバックスラテ） | L |
| アイスキャラメルマキアート | CM |
| アイスカフェモカ | M |
| アイスホワイトモカ | WM |
| アイスカプチーノ | C |
| アイストリプルエスプレッソラテ | 3EL |
| アイス スターバックスブロンドラテ（オーツミルク） | L |

#### アイス ティー系

| ドリンク名 | コード |
|-----------|--------|
| アイスティー（レギュラー） | IT |
| アイスティー（ティーバッグ抽出） | IT |
| アイスチャイティーラテ | CH |
| アイス抹茶ティーラテ | GTL |

#### アイス チョコ・クリーム系

| ドリンク名 | コード |
|-----------|--------|
| アイスココア | CO |
| アイスホワイトチョコレート | IWC |
| アイスキャラメルクリーム | CRC |

#### フラペチーノ コーヒー系

| ドリンク名 | コード |
|-----------|--------|
| コーヒーフラペチーノ | CF |
| キャラメルフラペチーノ | CRF |
| ダークモカチップフラペチーノ | DF |
| エスプレッソアフォガート | EAF |

#### フラペチーノ クリーム系

| ドリンク名 | コード |
|-----------|--------|
| バニラクリームフラペチーノ | VF |
| 抹茶クリームフラペチーノ | GF |
| ホワイト オペラ フラペチーノ | — |

#### フラペチーノ フルーツ系

| ドリンク名 | コード |
|-----------|--------|
| マンゴーパッションティー | MJ |

#### 季節・特別

| ドリンク名 | コード |
|-----------|--------|
| ストロベリーラベンダーティーラテ | ST |
| ジャンドゥーヤ チョコレート モカ | — |
| オペラ フラペチーノ | — |

### 2.6 ユーザーレシピ登録機能

店舗に入った期間限定メニューなど、システム組込み以外のレシピをユーザーが自分で登録・管理できる機能。

#### 2.6.1 登録できる内容

システム組込みレシピと同じデータ構造で登録する。入力ステップをひとつずつ追加していく形式とし、複雑な入力を簡略化する。

| 入力項目 | 入力方式 | 必須 | 説明 |
|---------|---------|------|------|
| ドリンク名 | テキスト入力 | 必須 | 期間限定メニューの名称 |
| 略称コード | テキスト入力 | 任意 | レジ表示コード（例: ST） |
| カテゴリ | セレクトボックス | 必須 | ホット / アイス / フラペチーノ / 期間限定 |
| サブカテゴリ | セレクトボックス | 任意 | 既存サブカテゴリから選択 or テキスト入力 |
| スリーブ要否 | トグル | 必須 | ON / OFF |
| 特殊機材・注意事項 | テキスト入力 | 任意 | バイタミックス使用等のメモ |
| メモ | テキスト入力 | 任意 | 自由メモ（例: 「売れ残ったら割引」等） |

#### 2.6.2 手順の入力方式

手順（ステップ）はひとつずつカードを追加する形式で入力する。

| 操作 | 説明 |
|------|------|
| ステップ追加 | 「＋ ステップを追加」ボタンでステップカードを末尾に追加 |
| ステップ説明入力 | 各ステップカード内にテキストを自由記述 |
| 任意フラグ設定 | 「このステップは任意（カスタム等）」トグルで任意ステップに設定 |
| 材料・分量入力 | 材料名と S/T/G/V ごとの分量数値を入力（複数材料追加可） |
| 並び替え | ドラッグ&ドロップでステップ順序を変更 |
| ステップ削除 | 各カード右上の削除アイコンをタップ |

#### 2.6.3 編集・削除

| 操作 | 説明 |
|------|------|
| 編集 | レシピ一覧またはレシピ詳細から「編集」ボタンで登録フォームへ遷移 |
| 削除 | 削除確認ダイアログを表示後に削除 |
| 削除対象 | ユーザー作成レシピのみ削除可。システム組込みレシピは削除不可 |

#### 2.6.4 レシピ一覧での表示

| 表示要素 | 説明 |
|---------|------|
| 「ユーザー登録」バッジ | カードの右上に小さくバッジを表示してシステム組込みと区別 |
| 期間限定タブ | 一覧画面に「期間限定」タブを追加し、ユーザー作成レシピをまとめて閲覧可能 |
| 編集ショートカット | カードの長押しで編集・削除メニューを表示 |

#### 2.6.5 練習への組み込み

ユーザー作成レシピは実践練習（M2）にも含めることができる。

| 設定 | 説明 |
|------|------|
| 練習対象設定 | レシピ登録時・編集時に「練習に含める」トグルを設定 |
| デフォルト | 練習に含める（ON） |
| 除外設定 | 覚えていないレシピを練習から外したい場合にOFF |

---

## 3. 実践練習モジュール (M2)

### 3.1 練習モード概要

ランダムに生成された10個のオーダーをこなす実践形式の練習機能。サイズ・カスタムも含めた実際の店舗に近い状況を再現する。

### 3.2 オーダー生成仕様

#### 3.2.1 オーダー構成

1回の練習セッションで10個のオーダーをランダム生成する。各オーダーには以下が含まれる。

| 項目 | 説明 |
|------|------|
| ドリンク名 | システム組込み46品 + ユーザー登録レシピ（練習ON設定のもの）からランダム選択 |
| サイズ | S / T / G / V からランダム選択 |
| カスタム（任意） | 難易度設定に応じてカスタムを付与 |

#### 3.2.2 難易度設定

| 難易度 | カスタム付与率 | 対象カテゴリ |
|--------|-------------|------------|
| 初級 | 0% | ホット全種 |
| 中級 | 30% | ホット + アイス |
| 上級 | 60% | 全カテゴリ（フラペ含む） |

#### 3.2.3 カテゴリフィルター

練習前に練習したいカテゴリを絞り込める。

- ホットのみ
- アイスのみ
- フラペチーノのみ
- 全カテゴリ（デフォルト）

### 3.3 練習問題形式

#### 3.3.1 手順並び替え問題

1つのオーダーに対して、シャッフルされた手順カードを正しい順番に並び替える形式。

| 要素 | 説明 |
|------|------|
| 問題表示 | オーダー内容（ドリンク名・サイズ・カスタム）を上部に表示 |
| 回答方式 | ドラッグ&ドロップでカードを並び替え |
| カード内容 | 各ステップの説明文（材料の分量は非表示にして難易度調整可） |
| 制限時間 | あり/なし を設定で切替可能 |
| 回答後 | 正解と自分の回答を色分けして差分を表示 |

#### 3.3.2 分量クイズ問題（オプション）

特定ステップで「このサイズのシロップは何ポンプ？」という分量を問うクイズ形式。

| 要素 | 説明 |
|------|------|
| 問題 | ドリンク名・サイズ・材料を提示し、分量を入力 |
| 回答方式 | 数値をタップ選択（1〜6） |
| 採点 | 正解/不正解を即座に表示 |

### 3.4 10オーダーの処理順（マルチタスク練習）

複数のオーダーを同時に受けた場合の作業効率を練習する機能。

#### 3.4.1 オーダー一覧表示と並び替え

10個のオーダーをまとめて表示し、「自分ならどの順番でこなすか」を考えさせる。

| 機能 | 説明 |
|------|------|
| オーダー一覧 | 10個のオーダーをカード形式で表示 |
| 並び替え | ドラッグ&ドロップで作業順を設定 |
| 解答例表示 | 「効率的な順番例」を表示（フラペは先 / 同系統をまとめる等のセオリー） |
| 解説 | なぜその順番が効率的かの解説文を表示 |

#### 3.4.2 効率的な順番のセオリー（解答例の根拠）

- フラペチーノ系は溶けるので最後（または先にブレンド開始）
- ミルクスチームが必要なドリンクをまとめる
- アイスドリンクは時間に余裕があるので後回し可
- 同じシロップを使うドリンクを連続させる

### 3.5 採点・フィードバック仕様

#### 3.5.1 セッション終了後のサマリー

| 表示項目 | 説明 |
|---------|------|
| 正解率 | 10問中の正解数と割合 |
| 苦手ドリンクリスト | 間違えたドリンクの一覧 |
| カテゴリ別正解率 | ホット/アイス/フラペ別の成績 |
| 今回の経験値 | ゲーミフィケーション要素（後述） |

#### 3.5.2 問題ごとのフィードバック

- 正解: 緑色ハイライト + 「正解！」メッセージ
- 不正解: 赤色ハイライト + 正解の手順を表示 + 間違いポイントの解説
- 間違えた問題は自動的に「要復習」リストに追加される

### 3.6 ゲーミフィケーション（モチベーション維持）

| 要素 | 説明 |
|------|------|
| 連続正解ストリーク | 連続正解数をカウントしてバッジ表示 |
| ドリンク習得度 | 各ドリンクに対して「未学習 / 学習中 / 習得済み」をスター表示 |
| 総合スコア | 累計の正解数をポイント化して表示 |

---

## 4. 振り返り・学習記録モジュール (M3)

### 4.1 バイト振り返り記録

実際のシフト終了後に、その日の業務を振り返り記録する機能。アプリ内練習の成績とは別に、リアルな現場での気づきや反省を残す。

#### 4.1.1 振り返り入力項目

| 項目 | データ型 | 必須 | 説明 |
|------|---------|------|------|
| シフト日 | 日付 | 必須 | 自動入力（変更可） |
| うまくできたこと | テキスト | 任意 | 自由記述（例: アフォガートをスムーズに作れた） |
| 難しかった・ミスしたこと | テキスト | 任意 | 自由記述（例: ダークモカの分量を間違えた） |
| 先輩・店長からのフィードバック | テキスト | 任意 | 指摘されたこと・褒められたことをメモ |
| 次のシフトまでに復習すること | テキスト | 任意 | 自由記述（例: キャラメルマキアートの手順を再確認） |
| 全体的な手応え | 選択肢 | 任意 | 😊 よかった / 😐 まあまあ / 😔 つらかった |

### 4.2 振り返り一覧

過去の振り返り記録を時系列で一覧表示する。

| 機能 | 説明 |
|------|------|
| 一覧表示 | 日付順（新しい順）にカード表示 |
| 月別フィルター | 月を選択して絞り込み |
| 検索 | キーワードで振り返り内容を検索 |
| 編集・削除 | 過去の記録を修正・削除可能 |

### 4.3 間違い問題レビュー

実践練習で間違えた問題を後から確認・再学習できる機能。

#### 4.3.1 間違い問題リスト

| 表示項目 | 説明 |
|---------|------|
| ドリンク名 | 間違えたドリンク |
| 間違えた日時 | いつ間違えたか |
| 間違えた回数 | 同じドリンクで何回間違えたか（多い順でソート可） |
| 最後に正解した日 | 最後に正解した日時（なければ「未正解」） |

#### 4.3.2 再練習機能

「間違い問題から練習」ボタンで、間違えたドリンクのみを対象にした練習セッションを開始できる。

| 機能 | 説明 |
|------|------|
| 間違い問題のみ出題 | 「要復習」フラグのついた問題のみでセッションを構成 |
| 正解したら消化 | 正解すると「要復習」フラグが外れる |
| 全問正解で完了 | 全ての間違い問題を正解するまで継続 |

### 4.4 学習進捗ダッシュボード

ユーザーの学習状況を視覚的に確認できるトップ画面。

| 表示項目 | 説明 |
|---------|------|
| 全ドリンク習得率 | 46品中何品「習得済み」か進捗バーで表示 |
| 今週の練習回数 | 週間の練習セッション数 |
| 直近の振り返り | 最新のバイト振り返り記録を抜粋表示（シフト日・手応え・ミスメモ） |
| 要復習ドリンク数 | 間違い問題リストの未解消件数 |
| 苦手カテゴリ | 正解率が低いカテゴリをハイライト |

---

## 5. データモデル

### 5.1 主要エンティティ一覧

| エンティティ | 説明 | 主要項目 |
|-------------|------|---------|
| DRINK | ドリンク情報 | 名前, コード, カテゴリ, サブカテゴリ, スリーブフラグ, **recipe_type（builtin/user）**, **practice_enabled**, **memo**, **created_at** |
| STEP | 手順情報 | ドリンクID, ステップ番号, 説明, 必須フラグ |
| INGREDIENT | 材料・分量情報 | ステップID, 材料名, S分量, T分量, G分量, V分量 |
| CUSTOM_OPTION | カスタム選択肢 | カスタム種別, 選択肢名, 対応ドリンクカテゴリ |
| PRACTICE_SESSION | 練習セッション | 開始日時, 難易度, カテゴリ, 正解数, 所要時間 |
| PRACTICE_RESULT | 問題ごとの結果 | セッションID, ドリンクID, 正解/不正解, 回答内容 |
| REVIEW_NOTE | バイト振り返り記録 | シフト日, うまくできたこと, ミス・難しかったこと, フィードバック, 次の復習事項, 手応え |
| WRONG_ANSWER | 間違い問題リスト | ドリンクID, 間違えた回数, 最終間違い日, 解消フラグ |
| USER_PROGRESS | ドリンク別習得度 | ドリンクID, 習得ステータス, 練習回数, 正解率 |

> **設計方針**: ユーザー作成レシピはシステム組込みと同一テーブル（DRINK / STEP / INGREDIENT）で管理し、`recipe_type` カラムで識別する。削除・編集はユーザー作成（`recipe_type = 'user'`）のみ許可する。

### 5.2 ドリンク習得ステータス定義

| ステータス | 条件 |
|-----------|------|
| 未学習 | レシピ閲覧・練習履歴なし |
| 学習中 | レシピ閲覧済み、または練習で1回以上出題された |
| 習得済み | 直近5回の練習で全問正解 |

---

## 6. 画面一覧

### 6.1 共通

| 画面ID | 画面名 | 概要 |
|--------|--------|------|
| C-01 | ホーム/ダッシュボード | 学習進捗の概要表示、各機能への導線 |
| C-02 | 設定 | 難易度設定、通知設定、データリセット |

### 6.2 レシピ管理

| 画面ID | 画面名 | 概要 | 主要操作 |
|--------|--------|------|---------|
| M1-01 | レシピ一覧 | カード形式でドリンクを一覧表示 | カテゴリタブ（期間限定タブ含む）、フィルター、検索、カードタップで詳細へ、＋ボタンで新規登録 |
| M1-02 | レシピ詳細（基本） | 選択したドリンクの手順をステップ表示 | ステップ閲覧、サイズ切替、カスタムトグル切替、ユーザー作成レシピは編集・削除ボタン表示 |
| M1-03 | レシピ詳細（カスタムあり） | カスタム選択に応じた手順の変化を表示 | カスタム選択、変更箇所ハイライト確認 |
| M1-04 | ユーザーレシピ登録 | 期間限定レシピを新規登録するフォーム | ドリンク情報入力、ステップ追加・並び替え・削除、保存 |
| M1-05 | ユーザーレシピ編集 | 登録済みレシピの編集フォーム | 情報修正、ステップ追加・並び替え・削除、保存・削除 |

### 6.3 実践練習

| 画面ID | 画面名 | 概要 | 主要操作 |
|--------|--------|------|---------|
| M2-01 | 練習設定 | 難易度・カテゴリを選択して練習開始 | 難易度選択、カテゴリ選択、開始ボタン |
| M2-02 | オーダー一覧（並び替え） | 10オーダーの作業順を並び替え | ドラッグ&ドロップで並び替え、確定ボタン |
| M2-03 | 手順並び替え問題 | 1問ごとの手順並び替え画面 | ドラッグ&ドロップ、回答ボタン |
| M2-04 | 問題フィードバック | 1問の正誤と解説を表示 | 正解確認、次の問題へ |
| M2-05 | 練習セッション結果 | 10問終了後のサマリー表示 | 正解率確認、間違い問題確認、振り返り記録へ |

### 6.4 振り返り・学習記録

| 画面ID | 画面名 | 概要 | 主要操作 |
|--------|--------|------|---------|
| M3-01 | バイト振り返り入力 | シフト終了後にバイトの振り返りを記録 | うまくできたこと・ミス・フィードバック入力、手応え選択、保存 |
| M3-02 | 振り返り一覧 | 過去のバイト振り返りを一覧表示 | 月別フィルター、手応え別フィルター、キーワード検索、詳細表示 |
| M3-03 | 振り返り詳細 | 特定シフト日の振り返り内容を表示 | 閲覧、編集、削除 |
| M3-04 | 間違い問題一覧 | 要復習ドリンクの一覧 | 多い順ソート、ドリンクごとの再練習 |
| M3-05 | 間違い問題 再練習 | 間違い問題のみの練習セッション | 手順並び替え、正解で消化 |

---

## 7. 非機能要件

### 7.1 技術スタック（推奨）

| レイヤー | 技術 | 備考 |
|---------|------|------|
| フレームワーク | React Native / Expo | iOS・Android 両対応 |
| 言語 | TypeScript | 型安全性確保 |
| 状態管理 | Zustand / Jotai | 軽量かつ学習コストが低い |
| ローカルDB | SQLite (expo-sqlite) | オフライン対応・端末内保存 |
| ナビゲーション | Expo Router | ファイルベースルーティング |
| UIライブラリ | NativeWind | Tailwind CSS スタイル |
| ドラッグ&ドロップ | react-native-reanimated + gesture-handler | 並び替えUI |
| アニメーション | React Native Reanimated | スムーズな操作感 |

### 7.2 対応プラットフォーム

| プラットフォーム | 対応 |
|----------------|------|
| iOS | 対応（iPhone 主体） |
| Android | 対応 |
| Web | 対応外（モバイルアプリ優先） |

### 7.3 オフライン対応

ネットワーク接続なしでも全機能が利用できるよう、データはすべて端末内（SQLite）に保存する。

| データ種別 | 保存方法 |
|-----------|---------|
| レシピデータ | アプリバンドル内（JSONまたはSQLite初期データ） |
| 練習記録 | SQLite（端末内） |
| 振り返り記録 | SQLite（端末内） |
| 間違い問題リスト | SQLite（端末内） |

### 7.4 パフォーマンス要件

| 項目 | 目標値 |
|------|--------|
| 画面遷移 | 300ms以内 |
| レシピ一覧表示 | 500ms以内 |
| 練習セッション開始 | 1秒以内 |
| アプリ起動時間 | 2秒以内（コールドスタート） |

### 7.5 ユーザビリティ要件

- 片手操作を想定したUI（スマートフォン縦持ち基準）
- フォントサイズは最小14px以上
- タップ領域は最小44×44pt（Apple HIG準拠）
- ドラッグ&ドロップ操作はハプティクスフィードバックを付与

---

## 8. 開発ロードマップ（案）

| フェーズ | 期間目安 | 対象モジュール | 主要マイルストーン |
|---------|---------|--------------|-----------------|
| Phase 1 | 2〜3週間 | M1: レシピ管理 | 全46品レシピのデータ投入、カード一覧表示、詳細表示 |
| Phase 2 | 2〜3週間 | M1: カスタム対応 + ユーザーレシピ登録 | カスタムトグル、ユーザーレシピ登録・編集・削除フォーム、期間限定タブ |
| Phase 3 | 3〜4週間 | M2: 実践練習 | ランダムオーダー生成（ユーザー登録レシピ含む）、手順並び替え問題、採点 |
| Phase 4 | 2〜3週間 | M2: オーダー並び替え | 10オーダー一括表示、並び替え、解答例 |
| Phase 5 | 2〜3週間 | M3: 振り返り記録 | 振り返り入力・一覧・詳細 |
| Phase 6 | 2〜3週間 | M3: 間違い問題レビュー | 間違いリスト、再練習機能 |
| Phase 7 | 継続 | 改善・拡張 | ゲーミフィケーション強化、フィードバック対応 |

### 8.1 今後の検討事項

- ユーザーアカウント機能の要否（複数デバイスでの同期が必要か）
- ユーザー登録レシピのエクスポート・共有機能（友人・同僚とレシピを共有したい場合）
- 「先輩からのコメント機能」等のソーシャル要素の追加可否
- Push通知による練習リマインダー機能
- ユーザー登録レシピへの画像添付機能（レシピ写真を登録したい場合）
