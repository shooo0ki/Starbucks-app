# 画面要件定義 v1: ホーム/ダッシュボード（C-01）

**作成日**: 2026-02-22

---

## 1. 機能要件

| # | 機能 | 説明 |
|---|------|------|
| F01 | 習得率進捗表示 | 全46品のうち「習得済み」ステータスのドリンク数と割合を進捗バーで表示する |
| F02 | 今週の練習回数表示 | 当週（月〜日）の練習セッション数をカードで表示する |
| F03 | 要復習件数表示 | WRONG_ANSWER テーブルの未消化件数を赤バッジで表示する |
| F04 | 苦手カテゴリ表示 | 直近10セッションのカテゴリ別正解率を計算し、最下位カテゴリをハイライト表示する |
| F05 | 直近振り返りスニペット | 最新の振り返り記録（REVIEW_NOTE）の「今日学んだこと」冒頭50文字を表示する |
| F06 | 各モジュールへの導線 | レシピ一覧・練習設定・振り返り入力・間違い問題一覧への導線ボタンを設ける |
| F07 | ゲーミフィケーション表示 | 連続正解ストリーク・総合スコアをダッシュボードカードで表示する |

## 2. 非機能要件

| # | 項目 | 要件 |
|---|------|------|
| NF01 | 表示速度 | ダッシュボードのデータ取得・描画を500ms以内に完了すること |
| NF02 | オフライン対応 | ネットワーク未接続でも全データをSQLiteから取得して表示できること |
| NF03 | リアルタイム更新 | 練習完了・振り返り保存後に画面に戻った際、最新データを自動的に反映すること |

## 3. 表示条件・バリデーション

| 条件 | 表示内容 |
|------|---------|
| 練習セッションが0回の場合 | 習得率バー: 0%、今週の練習回数: 0回、ストリーク: 0 |
| 振り返り記録が未作成の場合 | 「まだ振り返りがありません。今日の振り返りを記録しましょう」を表示 |
| 全ドリンク習得済みの場合（46/46） | 「おめでとうございます！全ドリンクを習得しました 🎉」バナーを表示 |
| 要復習件数が0の場合 | 要復習カードを「クリア！」表示にする |

## 4. エラーケース

| エラー | 対応 |
|--------|------|
| SQLiteからのデータ取得失敗 | 「データを読み込めませんでした。アプリを再起動してください」を表示し、再試行ボタンを表示 |
| 計算中（習得率等）にNaN発生 | フォールバックとして0%または「-」を表示し、クラッシュを防ぐ |
